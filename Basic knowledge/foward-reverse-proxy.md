# 正向代理与反向代理

## 正向代理

- 客户端 C 向服务端 S 发送一个请求 r
- 但 r 从 C 到 S 的过程中，经过了一个中间者，即代理 P
- 此时，r 的流转过程为 C -> P -> S
- 以上为正向代理的过程

例子

- 在国外搭建一个代理，通过 Shadowsocks 设置代理后，访问 Google 的过程

## 反向代理

- 客户端 C 向服务端 S 发送一个请求 r
- 但 r 从 C 到 S 的过程中，经过了一个中间者，即代理 P
- 但实际上，S 是一个笼统的概括，因为对于用户量大的服务端来说，S 通常由多台服务器集群，即有 S1, S2, S3, ...
- 而 r 只会被一个 S 进行处理，因此 P 的作用是为 r 确定一个 S
- 假设 r 最后会被分配到 S100 进行处理，此时，r 的流转过程为 r -> P -> S100
- 以上为反向代理的过程

例子

- 负载均衡

## 区别

- 在正向代理中，C 躲在了 P 后面
    - 通俗来说，即 **客户端** 通过代理，对 **服务端** 隐藏了自己的身份
- 在反向代理中，S 躲在了 P 后面
    - 通俗来说，即 **服务端** 通过代理，对 **客户端** 隐藏了自己的身份


